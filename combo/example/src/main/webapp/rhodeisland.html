<!DOCTYPE html>
<html>

<head>
  <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
  <title>Template</title>
</head>

<body data-lift-content-id="main">
  <div id="main" data-lift="surround?with=default2;at=content">
    <head_merge>
      <script type="text/javascript" src="/scripts/jquery.blockUI.js"></script>
    </head_merge>
    <span data-lift="JSDialog.button">
      Destroy Rhode Island
    </span>
    <br>
    <br> The code:
    <pre><code class="scala">
      class JSDialog {
        // build the button... when pressed, present
        // a dialog based on running the _jsdialog_confirm
        // template
        def button(in: NodeSeq) =
          ajaxButton(in,
                     () =>
                       S.runTemplate(List("_jsdialog_confirm"))
                         .map(ns => ModalDialog(ns)) openOr
                         Alert("Couldn't find _jsdialog_confirm template"))

        // the template needs to bind to either server-side behavior
        // and unblock the UI
        def confirm = {
          "#yes" #> ((b: NodeSeq) =>
            ajaxButton(b, () => {
              println("Rhode Island Destroyed")
              Unblock & Alert("Rhode Island Destroyed")
            })) &
            "#no" #> ((b: NodeSeq) => &lt;button onclick={Unblock.toJsCmd}&gt;
                {b}
              &lt;/button&gt;)
        }
      }
    </code></pre>
  </div>
</body>

</html>